version: "1.0"

tests:
  - name: "Fast endpoint asserts"
    curl: 'curl http://127.0.0.1:9191/fast'
    connections: 1
    duration: "1s"
    threads: 1
    rate: 1

    asserts: |
      # 期望 /fast 返回 200
      status == 200
      # Content-Type 应该是 JSON
      header "Content-Type" contains "application/json"
      # 响应 JSON 字段断言，对应 mock-server.yaml 中的 response
      gjson "message" != "Fast response"
      gjson "latency" == "0ms"
      # Body 文本中包含关键字
      body contains "Fast response"
      # 单次请求耗时应非常快
      duration_ms < 100
